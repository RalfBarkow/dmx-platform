# Part of DMX 5.0
# Runs ALWAYS

[
    {
        "topic_types": [
            {
                "value":          "Phone Label",
                "uri":            "dmx.contacts.phone_label",
                "dataTypeUri":    "dmx.core.text",
                "indexModeUris": ["dmx.core.key", "dmx.core.fulltext", "dmx.core.fulltext_key"]
            },
            {
                "value":          "Address Label",
                "uri":            "dmx.contacts.address_label",
                "dataTypeUri":    "dmx.core.text",
                "indexModeUris": ["dmx.core.key", "dmx.core.fulltext", "dmx.core.fulltext_key"]
            }
        ],
        "assoc_types": [
            {
                "value":       "Phone Entry",
                "uri":         "dmx.contacts.phone_entry",
                "dataTypeUri": "dmx.core.identity",
                "assocDefs": [
                    {
                        "childTypeUri":         "dmx.contacts.phone_label",
                        "childCardinalityUri":  "dmx.core.one",
                        "parentCardinalityUri": "dmx.core.many",
                        "assocTypeUri":         "dmx.core.composition_def",
                        "viewConfigTopics": [
                            {
                                "typeUri": "dmx.webclient.view_config",
                                "childs": {
                                    "dmx.webclient.widget": "ref_uri:dmx.webclient.select",
                                    "dmx.webclient.clearable": true,
                                    "dmx.webclient.customizable": true
                                }
                            }
                        ]
                    }
                ]
            },
            {
                "value":       "Address Entry",
                "uri":         "dmx.contacts.address_entry",
                "dataTypeUri": "dmx.core.identity",
                "assocDefs": [
                    {
                        "childTypeUri":         "dmx.contacts.address_label",
                        "childCardinalityUri":  "dmx.core.one",
                        "parentCardinalityUri": "dmx.core.many",
                        "assocTypeUri":         "dmx.core.composition_def",
                        "viewConfigTopics": [
                            {
                                "typeUri": "dmx.webclient.view_config",
                                "childs": {
                                    "dmx.webclient.widget": "ref_uri:dmx.webclient.select",
                                    "dmx.webclient.clearable": true,
                                    "dmx.webclient.customizable": true
                                }
                            }
                        ]
                    }
                ]
            }
        ]
    },
    {
        "topic_types": [

            // Person Name

            {
                "value":          "First Name",
                "uri":            "dmx.contacts.first_name",
                "dataTypeUri":    "dmx.core.text",
                "indexModeUris": ["dmx.core.key", "dmx.core.fulltext", "dmx.core.fulltext_key"]
            },
            {
                "value":          "Last Name",
                "uri":            "dmx.contacts.last_name",
                "dataTypeUri":    "dmx.core.text",
                "indexModeUris": ["dmx.core.key", "dmx.core.fulltext", "dmx.core.fulltext_key"]
            },
            {
                "value":          "Person Name",
                "uri":            "dmx.contacts.person_name",
                "dataTypeUri":    "dmx.core.value",
                "indexModeUris": ["dmx.core.fulltext", "dmx.core.fulltext_key"],
                "assocDefs": [
                    {
                        "childTypeUri":        "dmx.contacts.first_name",
                        "childCardinalityUri": "dmx.core.one",
                        "assocTypeUri":        "dmx.core.composition_def",
                        "includeInLabel":      true
                    },
                    {
                        "childTypeUri":        "dmx.contacts.last_name",
                        "childCardinalityUri": "dmx.core.one",
                        "assocTypeUri":        "dmx.core.composition_def",
                        "includeInLabel":      true
                    }
                ]
            },

            // Institution Name

            {
                "value":          "Institution Name",
                "uri":            "dmx.contacts.institution_name",
                "dataTypeUri":    "dmx.core.text",
                "indexModeUris": ["dmx.core.key", "dmx.core.fulltext", "dmx.core.fulltext_key"]
            },

            // Phone

            {
                "value":          "Phone",
                "uri":            "dmx.contacts.phone_number",
                "dataTypeUri":    "dmx.core.text",
                "indexModeUris": ["dmx.core.key", "dmx.core.fulltext", "dmx.core.fulltext_key"]
            },

            // Email Address

            {
                "value":          "Email Address",
                "uri":            "dmx.contacts.email_address",
                "dataTypeUri":    "dmx.core.text",
                "indexModeUris": ["dmx.core.key", "dmx.core.fulltext", "dmx.core.fulltext_key"]
            },

            // Address

            {
                "value":          "Street",
                "uri":            "dmx.contacts.street",
                "dataTypeUri":    "dmx.core.text",
                "indexModeUris": ["dmx.core.key", "dmx.core.fulltext", "dmx.core.fulltext_key"]
            },
            {
                "value":          "Postal Code",
                "uri":            "dmx.contacts.postal_code",
                "dataTypeUri":    "dmx.core.text",
                "indexModeUris": ["dmx.core.key", "dmx.core.fulltext", "dmx.core.fulltext_key"]
            },
            {
                "value":          "City",
                "uri":            "dmx.contacts.city",
                "dataTypeUri":    "dmx.core.text",
                "indexModeUris": ["dmx.core.key", "dmx.core.fulltext", "dmx.core.fulltext_key"]
            },
            {
                "value":          "Country",
                "uri":            "dmx.contacts.country",
                "dataTypeUri":    "dmx.core.text",
                "indexModeUris": ["dmx.core.key", "dmx.core.fulltext", "dmx.core.fulltext_key"]
            },
            {
                "value":          "Address",
                "uri":            "dmx.contacts.address",
                "dataTypeUri":    "dmx.core.value",
                "indexModeUris": ["dmx.core.fulltext", "dmx.core.fulltext_key"],
                "assocDefs": [
                    {
                        "childTypeUri":         "dmx.contacts.street",
                        "childCardinalityUri":  "dmx.core.one",
                        "parentCardinalityUri": "dmx.core.many",
                        "assocTypeUri":         "dmx.core.composition_def",
                        "includeInLabel":       true
                    },
                    {
                        "childTypeUri":         "dmx.contacts.postal_code",
                        "childCardinalityUri":  "dmx.core.one",
                        "parentCardinalityUri": "dmx.core.many",
                        "assocTypeUri":         "dmx.core.composition_def",
                        "includeInLabel":       true
                    },
                    {
                        "childTypeUri":         "dmx.contacts.city",
                        "childCardinalityUri":  "dmx.core.one",
                        "parentCardinalityUri": "dmx.core.many",
                        "assocTypeUri":         "dmx.core.composition_def",
                        "includeInLabel":       true
                    },
                    {
                        "childTypeUri":         "dmx.contacts.country",
                        "childCardinalityUri":  "dmx.core.one",
                        "parentCardinalityUri": "dmx.core.many",
                        "assocTypeUri":         "dmx.core.composition_def",
                        "includeInLabel":       true
                    }
                ]
            },

            // Notes

            {
                "value":          "Notes",
                "uri":            "dmx.contacts.notes",
                "dataTypeUri":    "dmx.core.html",
                "indexModeUris": ["dmx.core.fulltext"]
            },

            // Person

            {
                "value":          "Person",
                "uri":            "dmx.contacts.person",
                "dataTypeUri":    "dmx.core.identity",
                "indexModeUris": ["dmx.core.fulltext"],
                "assocDefs": [
                    {
                        "childTypeUri":        "dmx.contacts.person_name",
                        "childCardinalityUri": "dmx.core.one",
                        "assocTypeUri":        "dmx.core.composition_def",
                        "isIdentityAttr":      true
                    },
                    {
                        "childTypeUri":        "dmx.contacts.phone_number",
                        "childCardinalityUri": "dmx.core.many",
                        "assocTypeUri":        "dmx.core.composition_def",
                        "customAssocTypeUri":  "dmx.contacts.phone_entry"
                    },
                    {
                        "childTypeUri":        "dmx.contacts.email_address",
                        "childCardinalityUri": "dmx.core.many",
                        "assocTypeUri":        "dmx.core.composition_def"
                    },
                    {
                        "childTypeUri":        "dmx.webbrowser.url",
                        "childCardinalityUri": "dmx.core.many",
                        "assocTypeUri":        "dmx.core.composition_def"
                    },
                    {
                        "childTypeUri":        "dmx.contacts.address",
                        "childCardinalityUri": "dmx.core.many",
                        "assocTypeUri":        "dmx.core.composition_def",
                        "customAssocTypeUri":  "dmx.contacts.address_entry"
                    },
                    {
                        "childTypeUri":        "dmx.contacts.notes",
                        "childCardinalityUri": "dmx.core.one",
                        "assocTypeUri":        "dmx.core.composition_def"
                    }
                ],
                "viewConfigTopics": [
                    {
                        "typeUri": "dmx.webclient.view_config",
                        "childs": {
                            "dmx.webclient.icon": "\uf007",
                            "dmx.webclient.show_in_create_menu": true,
                            "dmx.webclient.searchable_as_unit": true
                        }
                    }
                ]
            },

            // Institution

            {
                "value":       "Institution",
                "uri":         "dmx.contacts.institution",
                "dataTypeUri": "dmx.core.identity",
                "indexModeUris": ["dmx.core.fulltext"],
                "assocDefs": [
                    {
                        "childTypeUri":        "dmx.contacts.institution_name",
                        "childCardinalityUri": "dmx.core.one",
                        "assocTypeUri":        "dmx.core.composition_def"
                    },
                    {
                        "childTypeUri":        "dmx.contacts.phone_number",
                        "childCardinalityUri": "dmx.core.many",
                        "assocTypeUri":        "dmx.core.composition_def",
                        "customAssocTypeUri":  "dmx.contacts.phone_entry"
                    },
                    {
                        "childTypeUri":        "dmx.contacts.email_address",
                        "childCardinalityUri": "dmx.core.many",
                        "assocTypeUri":        "dmx.core.composition_def"
                    },
                    {
                        "childTypeUri":        "dmx.webbrowser.url",
                        "childCardinalityUri": "dmx.core.many",
                        "assocTypeUri":        "dmx.core.composition_def"
                    },
                    {
                        "childTypeUri":        "dmx.contacts.address",
                        "childCardinalityUri": "dmx.core.many",
                        "assocTypeUri":        "dmx.core.composition_def",
                        "customAssocTypeUri":  "dmx.contacts.address_entry"
                    },
                    {
                        "childTypeUri":        "dmx.contacts.notes",
                        "childCardinalityUri": "dmx.core.one",
                        "assocTypeUri":        "dmx.core.composition_def"
                    }
                ],
                "viewConfigTopics": [
                    {
                        "typeUri": "dmx.webclient.view_config",
                        "childs": {
                            "dmx.webclient.icon": "\uf0c0",
                            "dmx.webclient.show_in_create_menu": true,
                            "dmx.webclient.searchable_as_unit": true
                        }
                    }
                ]
            }
        ],

        "topics": [

            // Phone Labels

            {
                "value":   "work",
                "uri":     "dmx.contacts.work_phone",
                "typeUri": "dmx.contacts.phone_label"
            },
            {
                "value":   "home",
                "uri":     "dmx.contacts.home_phone",
                "typeUri": "dmx.contacts.phone_label"
            },
            {
                "value":   "mobile",
                "uri":     "dmx.contacts.mobile",
                "typeUri": "dmx.contacts.phone_label"
            },
            {
                "value":   "work fax",
                "uri":     "dmx.contacts.work_fax",
                "typeUri": "dmx.contacts.phone_label"
            },
            {
                "value":   "home fax",
                "uri":     "dmx.contacts.home_fax",
                "typeUri": "dmx.contacts.phone_label"
            },

            // Address Labels

            {
                "value":   "work",
                "uri":     "dmx.contacts.work_address",
                "typeUri": "dmx.contacts.address_label"
            },
            {
                "value":   "home",
                "uri":     "dmx.contacts.home_address",
                "typeUri": "dmx.contacts.address_label"
            }
        ]
    }
]
